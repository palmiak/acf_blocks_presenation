<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Creating Gutenberg blocks using ACF Blocks - Maciek Palmowski</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700&amp;subset=latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">
		<link rel="stylesheet" href="css/wordcamp.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="logo-sa">
			<a href="https://wordpressowka.pl" target="_blank"><img src="img/wordpressowka-logo.svg" /></a>
		</div>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<div class="inner">
						<div class="inner-left">
							<h1 class="title header-color">Creating Gutenberg blocks using ACF Blocks</h1>
						</div>
						<div class="inner-right">
							<div class="photobg-inner">
								<div class="label">
									Maciej Palmowski
								</div>
								<div class="photobg" style="background-image: url('img/laptop.jpg')">
								</div>
							</div>
						</div>
                    </div>
                    
                </section>
                
                <section>
					<div class="inner">
						<div class="inner-right">
							<div class="photobg-inner">
								<div class="photobg" style="background-image: url('img/maciek.jpg')">
								</div>
							</div>
						</div>
						<div class="inner-left">
							<h1 class="title header-color"><span>Hello</span>Maciej Palmowski</h1>
							<div class="text">
								<p>
									<small>email</small>
									m.palmowski@freshpixels.pl
								</p>
								<p>
									<small>wordpress.org</small>
									profiles.wordpress.org/palmiak
								</p>
								<p>
									<small>github</small>
									github.com/palmiak
								</p>
                                <p>
									<small>Timber Collaborator</small>
									github.com/timber/timber
								</p>
								
								<p>
									<small>I work at</small>
									WPMU DEV
								</p>
							</div>
						</div>
                    </div>

				</section>

				<section>
					<div class="inner">
						<div class="inner-full">
							<h1 class="title header-color">What is Gutenberg?</h1>
							<div class="text">
								<p>
									<center><img src="img/Image 2019-05-15 at 11.09.00 PM.png" alt="" /></center>
                                </p>
							</div>
						</div>
                    </div>
                </section>
                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">What is Gutenberg?</h1>
                            <div class="text">
                                <ul>
                                    <li>a block editor that replaced TinyMCE</li>
                                    <li>it changes the way we create administration panel blocks (ReactJS)</li>
                                    <li>it gives us more flexability</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is creating Gutenberg blocks simple?</h1>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is creating Gutenberg blocks simple?</h1>
                            <div class="text">
                                <p>Let's use <strong>create-guten-block</strong> because, based on author info:</p>
                                <ul>
                                    <li>it doesn't need any configuration</li>
                                    <li>we can create blocks in minutes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is creating Gutenberg blocks simple?</h1>
                            <div class="text">
                                <p>Installation</p>
                                <pre>
                                    <code code="bash">
npx create-guten-block my-block
cd my-block
npm start
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is creating Gutenberg blocks simple?</h1>
                            <div class="text">
                                <pre>
                                    <code code="bash">├── .gitignore
├── plugin.php
├── package.json
├── README.md
├── dist
|  ├── blocks.build.js
|  ├── blocks.editor.build.css
|  └── blocks.style.build.css
└── src
    ├── block
    |  ├── block.js
    |  ├── editor.scss
    |  └── style.scss
    ├── blocks.js
    ├── common.scss
    └── init.php
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is creating Gutenberg blocks simple?</h1>
                            <div class="text">
                                <p>Only two steps to go:</p>
                                <ul>
                                    <li>learn React</li>
                                    <li>use newly acquired skills and create a block</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <center><img src="img/2f17f2e6-7108-4c61-a649-1a41069b6fee.png"></center>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Is it worth it?</h1>
                            <div class="text">
                                <h2>YES:</h2>
                                <ul>
                                    <li>that's the only way to use Gutenberg's full potencial</li>
                                    <li>we won't be dependant on some 3rd party plugins or libraries</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">But is it necessary?</h1>
                            <div class="text">
                                <h2>NO:</h2>
                                <ul>
                                    <li>most blocks we'll create are quite simple - it's passing some data and showing it</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">How can we achieve this?</h1>
                            <div class="text">
                                <ul>
                                    <li>ACF Blocks</li>
                                    <li>Carbon Fields</li>
                                    <li>Lazy Blocks</li>
                                    <li>Blocks Lab</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">ACF Blocks - possibilities</h1>
                            <div class="text">
                                <ul>
                                    <li>it works exactly as normal ACF - but within a block</li>
                                    <li>we have a real time preview of each block in admin panel</li>
                                    <li>it really makes your clients happy</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Cons</h1>
                            <div class="text">
                                <ul>
                                    <li>ACF Blocks is quite limited in terms of user interface</li>
                                    <li>some advanced Gutenberg functions are missing</li>
                                    <li>Gutenberg is changing quite fast and ACF Blocks will always be a step behind</li>
                                    <li>ACF Blocks is only included in the PRO version</li>
                                </ul>

                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <div class="text">
                                <h1 class="title header-color">What we will achieve</h1>
                                <div class="text">
                                    <center><img src="img/Image 2019-05-15 at 11.27.06 PM.png"/></center>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Let's create a block</h1>
                            <div class="text">
                                <pre>
                                    <code code="php">add_action('acf/init', 'my_acf_init');
function my_acf_init() {
    if( function_exists('acf_register_block_type') ) {
        acf_register_block_type([
            'name'  => 'trips',
            'title' => __('Trips'),
            'description' => __('Promoted trips'),
            'render_callback' => 'my_acf_block_render_callback',
            'category' => 'layout',
            'icon' => 'location-alt',
            'keywords' => [ 'trips', 'flights' ],
        ]);
    }
}</code>
                                </pre>
                                <p class="fragment" data-code-focus="1"></p>
                                <p class="fragment" data-code-focus="5"></p>
                                <p class="fragment" data-code-focus="6"></p>
                                <p class="fragment" data-code-focus="7"></p>
                                <p class="fragment" data-code-focus="8"></p>
                                <p class="fragment" data-code-focus="9"></p>
                                <p class="fragment" data-code-focus="10"></p>
                                <p class="fragment" data-code-focus="11"></p>
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Let's create a block</h1>
                            <div class="text">
                               <p>You can see all the options here: <a href="https://www.advancedcustomfields.com/resources/acf_register_block/">https://www.advancedcustomfields.com/resources/acf_register_block/</a></p>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Let's create a block</h1>
                            <div class="text">
                                <pre>
                                    <code code="php">function my_acf_block_render_callback( $block, $content='', $is_preview ) {
    $context = Timber::get_context();
    $context['block'] = $block;
    $context['fields'] = get_fields(); 
    $context['is_preview'] = $is_preview;
    
    Timber::render( 'views/blocks/trip-block.twig', $context );
}</code>
                                </pre>
                                <p class="fragment" data-code-focus="2"></p>
                                <p class="fragment" data-code-focus="3"></p>
                                <p class="fragment" data-code-focus="4"></p>
                                <p class="fragment" data-code-focus="5"></p>
                                <p class="fragment" data-code-focus="7"></p>
                                
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Field Group</h1>
                            <div class="text">
                                <center><img src="img/35afdfc4-7f2f-47ec-b34a-49d86cc33fcf.png" /></center>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Admin panel</h1>
                            <div class="text">
                                <center><img src="img/Screen Recording 2019-05-15 at 11.25.50.14 PM.gif"/></center>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">It works :)</h1>
                            <div class="text">
                                <p>But some stuff is missing:</p>
                                <ul>
                                    <li>block looks different compared to the frontend version</li>
                                    <li>JavaScript doesn't work</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Adding own scripts and styles</h1>
                            <div class="text">
                            <pre>
                                <code code="php">function my_acf_block_editor_style() {
    wp_enqueue_style(
        'trips_css',
        get_template_directory_uri() .'/dist/css/editor.css'
    );
    wp_enqueue_script(
        'trips_js',
        get_template_directory_uri() .'/dist/js/editor.js'
    );
}
add_action( 'enqueue_block_editor_assets', 'my_acf_block_editor_style' );</code>
                            </pre>
                            <p class="fragment" data-code-focus="2"></p>
                            <p class="fragment" data-code-focus="6"></p>
                            <p class="fragment" data-code-focus="11"></p>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Adding own scripts and styles</h1>
                            <div class="text">
                            <pre>
                                <code code="php">acf_register_block_type([
    'name'  => 'trips',
    'title' => __('Trips'),
    'description' => __('Promoted trips'),
    'render_callback' => 'my_acf_block_render_callback',
    'category' => 'layout',
    'icon' => 'location-alt',
    'keywords' => [ 'trips', 'flights' ],
    'enqueue_style' => get_template_directory_uri() .'/dist/css/editor.css',
    'enqueue_script' => get_template_directory_uri() .'/dist/js/editor.js',
]);</code>
                            </pre>
                            <p class="fragment" data-code-focus="9-10"></p>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Some things that are worth to remember</h1>
                            <div class="text">
                                <ul>
                                    <li>it's not TinyMCE - the editor is not an iframe</li>
                                    <li>be really careful about styling global elements like body, html etc</li>
                                    <li>it's a good practice to make all the url non-clickable</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Some things that are worth to remember</h1>
                            <div class="text">
                                <ul>
                                    <li>wrap your block with a div with some class name</li>
                                    <li>create a separate style just for the admin panel, but include the styles used on the frontend</li>
                                </ul>
                                <pre>
                                        <code code="scss">.gutenberg-sasquatch-block {
    @import "components/colors";
    @import "components/mixins";
    @import "components/standards";
    @import "components/typo";
    @import "components/buttons";

    @import "layouts/index";
}</code>
                                </pre>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Adding JavaScript</h1>
                            <div class="text">
                                <p>It doesn't work because:</p>
                                <ul>
                                    <li>our scripts don't launch on block preview</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Adding JavaScript</h1>
                            <div class="text">
                                <pre>
                                    <code code="javascript">window.acf.addAction('render_block_preview', function( $el, attributes ){
    $.bridget( 'packery', Packery, $ );
    if ( $( '.offers-list').length ) {
        imagesLoaded( $( '.offers-list' ), function() {
            $( '.offers-list' ).each( function( i ) {
                $( '.offers-list' ).packery(
                    {
                        itemSelector: '.item',
                    }
                );
            });
        });
    }
});</code>
                                </pre>
                                <p class="fragment" data-code-focus="1"></p>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">It's alive :)</h1>
                            <div class="text">
                                <center><img src="img/Screen Recording 2019-05-15 at 11.20.52.48 PM.gif" /></center>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">It's alive :)</h1>
                            <div class="text">
                                <center><img src="img/Screen+Recording+2020-02-16+at+12.53.44.59+AM.gif" /></center>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">Conclusions</h1>
                            <div class="text">
                                <ul>
                                    <li>Gutenberg is in very active development - it may sometimes results with some problems with 3rd party plugins like ACF Blocks</li>
                                    <li>ACF Blocks has limitations when comes to creating interfaces - you won't be able to use context menus or sidebar the way you could do it with pure Gutenberg</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section>
                    <div class="inner">
                        <h1 class="title header-color">One more thing...</h1>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                            <h1 class="title header-color">What if...</h1>
                            <div class="text">
                                <ul>
                                    <li>we could only focus on block creation - without writing those boring PHP functions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                        <h1 class="title header-color">Introducting Timber ACF WP Blocks</h1>
                        <div class="text">
                        <p>
                            <center><img src="https://raw.githubusercontent.com/palmiak/timber-acf-wp-blocks/master/timber-wp-acf-blocks.png" alt="" /></center>
                        </p>
                        </div>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="inner">
                        <div class="inner-full">
                        <h1 class="title header-color">Example block</h1>
                        <div class="text">
                            <pre>
                                <code code="twig">{#
    Title: Testimonial
    Description: Customer testimonial
    Category: formatting
    Icon: admin-comments
    Keywords: testimonial quote "customer testimonial"
    Mode: edit
#}
<blockquote>
    <p>{{ fields.testimonial }}</p>
    <cite>
    <span>{{ fields.author }}</span>
    </cite>
</blockquote></code>
</pre>
<p class="fragment" data-code-focus="1-8"></p>
<p class="fragment" data-code-focus="9-14"></p>
                        </div>
                        </div>
                    </div>
                </section>
                
                <section>
                    <div class="inner">
                        <div class="inner-full">
                        <h1 class="title header-color">Introducting Timber ACF WP Blocks</h1>
                        <div class="text">
                        <p>
                            You can read more about <strong>Timber ACF WP Blocks</strong> on <a href="https://github.com/palmiak/timber-acf-wp-blocks">https://github.com/palmiak/timber-acf-wp-blocks</a>
                        </p>
                        <p>
                            If you don't use Timber try <a href="https://github.com/MWDelaney/sage-acf-wp-blocks">https://github.com/MWDelaney/sage-acf-wp-blocks</a> or <a href="https://github.com/micropackage/block-loader">https://github.com/micropackage/block-loader</a>
                        </p>
                        </div>
                        </div>
                    </div>
                </section>
                <section>
                        <div class="inner">
                            <h1 class="title header-color">Question time</h1>
                        </div>
                </section>
		 <section>
                        <div class="inner">
                            <h1 class="title header-color">Děkuji :)</h1>
                        </div>
                </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
                    {
                        src: 'js/reveal-code-focus.js',
                        async: true,
                        callback: function() {
                            RevealCodeFocus();
                        }
                     }
				]
			});

		</script>

	</body>
</html>
